(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{502:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_2020-07-02"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2020-07-02"}},[t._v("#")]),t._v(" 2020-07-02")]),t._v(" "),a("h3",{attrs:{id:"个人博客搭建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#个人博客搭建"}},[t._v("#")]),t._v(" 个人博客搭建")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("GitHub Page，一般多用于托管个人的静态网站，所以现在很多人也用来它来搭建私人博客，也算是省去了购买服务器、域名等等一系列复杂的操作。")])]),t._v(" "),a("p",[a("strong",[t._v("使用步骤:")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("* 先搭建 `vuepress` \n* 安装 `vuepress-theme-reco vuepress` 的主题\n* 在 GitHub 中创建一个仓库,仓库命名必须为: GitHub用户名.github.io\n* 克隆当前仓库到本地, git clone GitHub用户名.github.io\n* vuePress 打包,生成的静态文件 .vuepress/dist 文件夹中 index.html,赋值粘贴到上面的仓库中\n* 提交推送到远端,https://github 用户名.github.io/ 进行访问\n* sh deploy.sh 将 vuepress 一件打包上传到 Github page.\n* Github 可能会有缓存,导致页面不是最新的.\n")])])]),a("h2",{attrs:{id:"_2020-07-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2020-07-10"}},[t._v("#")]),t._v(" 2020-07-10")]),t._v(" "),a("h3",{attrs:{id:"linux权限位详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux权限位详解"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://www.cnblogs.com/liuhedong/p/10739718.html",title:"标题",target:"_blank",rel:"noopener noreferrer"}},[t._v("Linux权限位详解"),a("OutboundLink")],1)]),t._v(" "),a("h4",{attrs:{id:"linux-权限位-有5种权限-分别是-r、w、x、s、t"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-权限位-有5种权限-分别是-r、w、x、s、t"}},[t._v("#")]),t._v(" Linux 权限位 : 有5种权限,分别是, r、w、x、s、t")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("可读权限 r (read)")])]),t._v(" "),a("li",[a("p",[t._v("可写权限 w (write)")])]),t._v(" "),a("li",[a("p",[t._v("可执行权限 x (excute)")])]),t._v(" "),a("li",[a("p",[t._v("Setuid：s（Set User ID）")])]),t._v(" "),a("li",[a("p",[t._v("Setgid：s（Set Group ID）")])]),t._v(" "),a("li",[a("p",[t._v("粘滞位：t")])])]),t._v(" "),a("h4",{attrs:{id:"可读权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可读权限"}},[t._v("#")]),t._v(" 可读权限")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("对于文件,可读权限:")]),t._v(" "),a("ul",[a("li",[t._v("用字符表示 : r")]),t._v(" "),a("li",[t._v("用八进制表示: 4")]),t._v(" "),a("li",[t._v("可以读取文件里的内容")])])]),t._v(" "),a("li",[a("p",[t._v("对于目录,可读权限:")]),t._v(" "),a("ul",[a("li",[t._v("用字符表示 : r")]),t._v(" "),a("li",[t._v("用八进制表示 : 4")]),t._v(" "),a("li",[t._v("可以列出目录下的内容")])])])]),t._v(" "),a("h4",{attrs:{id:"可写权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可写权限"}},[t._v("#")]),t._v(" 可写权限")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("对于文件,可写权限:")]),t._v(" "),a("ul",[a("li",[t._v("用字符表示 : w")]),t._v(" "),a("li",[t._v("用八进制表示 : 2")]),t._v(" "),a("li",[t._v("可以对文件进行更改")])])]),t._v(" "),a("li",[a("p",[t._v("对于目录,可写权限:")]),t._v(" "),a("ul",[a("li",[t._v("用字符表示 : w")]),t._v(" "),a("li",[t._v("用八进制表示 : 2")]),t._v(" "),a("li",[t._v("可以在目录下创建文件或目录")])])])]),t._v(" "),a("h4",{attrs:{id:"可执行权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可执行权限"}},[t._v("#")]),t._v(" 可执行权限")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("对于文件,可写权限:")]),t._v(" "),a("ul",[a("li",[t._v("用字符表示 :  x")]),t._v(" "),a("li",[t._v("用八进制表示 : 1")]),t._v(" "),a("li",[t._v("可以执行该文件(脚本或命令)")])])]),t._v(" "),a("li",[a("p",[t._v("对于目录,可写权限:")]),t._v(" "),a("ul",[a("li",[t._v("用字符表示 : x")]),t._v(" "),a("li",[t._v("用八进制表示 : 1")]),t._v(" "),a("li",[t._v("可以 cd 进入该目录")])])])]),t._v(" "),a("h3",{attrs:{id:"linux-权限表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-权限表"}},[t._v("#")]),t._v(" Linux 权限表")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("字符表示")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("八进制")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("对于文件")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("对于目录")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("r")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("4")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("读取文件内容")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("列出目录下的内容")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("w")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("2")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("对文件进行修改")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("在目录下创建文件或目录")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("x")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("可以执行该文件(脚本或者命令)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("可以 cd 进入该目录")])])])]),t._v(" "),a("h3",{attrs:{id:"is-l-输出详情"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#is-l-输出详情"}},[t._v("#")]),t._v(" Is -l 输出详情")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("-r---w-r-x\n-r---w-r-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" wendy  wheel     0B  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":55 "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("*\n-rw-rw-rw-  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" wendy  wheel   176K  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" 06:23 adobegc.log\ndrwx------  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" wendy  wheel    96B  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("30")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("19")]),t._v(":16 com.apple.launchd.AY9oPiyRmp/\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" root   wheel    64B  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v(":25 powerlog/\ndrwxr-xr-x  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v(" root   wheel   192B "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2019")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/\ndrwxr-xr-x@ "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" wendy  wheel    64B  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),t._v(":03 com.google.Keystone/\ndrwxrwxrwt  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" root   wheel   224B  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("21")]),t._v(":55 ./\n\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",[a("code",[t._v("lrwxrwxrwx. 1 root root 7 Oct 3 02:33 bin -> usr/bin")])])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("第1个字符的含义 :")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-")]),t._v(" : 常规文件")]),t._v(" "),a("li",[a("code",[t._v("b")]),t._v(" : 块特殊文件")]),t._v(" "),a("li",[a("code",[t._v("c")]),t._v(" : 字符特殊文件")]),t._v(" "),a("li",[a("code",[t._v("C")]),t._v(' : 高性能("连续数据")文件')]),t._v(" "),a("li",[a("code",[t._v("d")]),t._v(" : 目录")]),t._v(" "),a("li",[a("code",[t._v("D")]),t._v(" : 门(Solaris 2.5及以上版本)")]),t._v(" "),a("li",[a("code",[t._v("l")]),t._v(" : 符号链接")]),t._v(" "),a("li",[a("code",[t._v("M")]),t._v(" : 离线（”前已“）文件（Cray DMF）")]),t._v(" "),a("li",[a("code",[t._v("n")]),t._v(" : 网络专用文件（HP-UX）")]),t._v(" "),a("li",[a("code",[t._v("p")]),t._v(" : FIFO（命名管道）")]),t._v(" "),a("li",[a("code",[t._v("P")]),t._v(" : 断开（Solaros 10及以上）")]),t._v(" "),a("li",[a("code",[t._v("s")]),t._v(" : 套接字")]),t._v(" "),a("li",[a("code",[t._v("?")]),t._v(" : 其他文件")])])]),t._v(" "),a("li",[a("p",[t._v("第2-4字符的含义 :")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("r")]),t._v(" : 属主的读权限")]),t._v(" "),a("li",[a("code",[t._v("w")]),t._v(" : 属主的写权限")]),t._v(" "),a("li",[a("code",[t._v("x")]),t._v(" : 属主的执行权限")])])]),t._v(" "),a("li",[a("p",[t._v("第5-7字符的含义 :")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("r")]),t._v(" : 属组的读权限")]),t._v(" "),a("li",[a("code",[t._v("w")]),t._v(" : 属组的写权限")]),t._v(" "),a("li",[a("code",[t._v("x")]),t._v(" : 属组的执行权限")])])]),t._v(" "),a("li",[a("p",[t._v("第8-10字符的含义 :")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("r")]),t._v(" : 其他人的读权限")]),t._v(" "),a("li",[a("code",[t._v("w")]),t._v(" : 其他人的写权限")]),t._v(" "),a("li",[a("code",[t._v("x")]),t._v(" : 其他人的执行权限")])])]),t._v(" "),a("li",[a("p",[t._v("第11个字符的含义 :")]),t._v(" "),a("ul",[a("li",[a("code",[t._v(".")]),t._v(" : 没有任何其他替代访问方法的 SELinux 安全上下文(没有设置 ACL)")]),t._v(" "),a("li",[a("code",[t._v("+")]),t._v(" : 具有任何其他组合访问方法的SELinux安全上下文（设置了ACL）")])])]),t._v(" "),a("li",[a("p",[t._v("第12个字符的含义 : 该文件的硬链接数量")])]),t._v(" "),a("li",[a("p",[t._v("第13个字符的含义 : 该文件的属主")])]),t._v(" "),a("li",[a("p",[t._v("第14个字符的含义 : 该文件的属组")])]),t._v(" "),a("li",[a("p",[t._v("第15个字符的含义 : 该文件的大小")])]),t._v(" "),a("li",[a("p",[t._v("第16-18个字符的含义 : 最后一次修改的时间")])]),t._v(" "),a("li",[a("p",[t._v("第19个字符的含义：文件或目录的名称")])]),t._v(" "),a("li",[a("p",[t._v("第20个字符的含义：链接符号")])]),t._v(" "),a("li",[a("p",[t._v("第21个字符的含义：链接文件的源文件")])])]),t._v(" "),a("h2",{attrs:{id:"_2020-07-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2020-07-13"}},[t._v("#")]),t._v(" 2020-07-13")]),t._v(" "),a("h3",{attrs:{id:"跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域"}},[t._v("#")]),t._v(" "),a("a",{attrs:{href:"https://juejin.im/post/5815f4abbf22ec006893b431",title:"标题",target:"_blank",rel:"noopener noreferrer"}},[t._v("跨域"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("code",[t._v("http://mail.163.com/index.html")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("http//")]),t._v(" : 这个是"),a("strong",[t._v("协议")]),t._v(",也就是 HTTP 超文本传输协议,也就是网页在网上传输的协议.")]),t._v(" "),a("li",[a("code",[t._v("mail")]),t._v(": 这个是"),a("strong",[t._v("服务器名")]),t._v(",代表着是一个邮箱服务器,所以是 mail.")]),t._v(" "),a("li",[a("code",[t._v("163.com")]),t._v(" : 这个是"),a("strong",[t._v("域名")]),t._v(",用来定位网站的第一无二的名字.")]),t._v(" "),a("li",[a("code",[t._v("mail.163.com")]),t._v(" : 这个是"),a("strong",[t._v("网站名")]),t._v(",由服务器+域名组成")]),t._v(" "),a("li",[a("code",[t._v("/")]),t._v(" : 这个是"),a("strong",[t._v("根目录")]),t._v(",也就是说,通过网站名找到服务器,然后在服务器存放网页的根目录.")]),t._v(" "),a("li",[a("code",[t._v("index.html")]),t._v(" : 这个是根目录下的默认网页当然，(当然,163的默认网页是不是这个我不知道，只是大部分的默认网页，都是index.html")]),t._v(" "),a("li",[a("code",[t._v("http://mail.163.com/index.html")]),t._v(" : 这个叫做"),a("strong",[t._v("URL,统一资源定位符")]),t._v(",全球性地址,用于定位网上的资源.")]),t._v(" "),a("li",[a("code",[t._v("163.com")]),t._v(" : "),a("strong",[t._v("一级域名,又称为顶级域名")]),t._v(",顶级域名是由"),a("strong",[t._v("一个合法的字符串+域名后缀")]),t._v("组成的,所以"),a("code",[t._v("163.com")]),t._v("这种形式的域名才是一级域名,"),a("code",[t._v("163")]),t._v("是域名主体,"),a("code",[t._v(".com")]),t._v("是域名后缀,可以是"),a("code",[t._v(".net")]),t._v("也是域名后缀.")]),t._v(" "),a("li",[a("code",[t._v("mail.163.com")]),t._v(" : "),a("strong",[t._v("二级域名")]),t._v(",就是一个一级域名下面的主机名,顾名思义,它就是在一级域名前面加上一个字符串,比如"),a("code",[t._v("asdx.163.com")]),t._v(",它可以拥有跟顶级域名同样的功能,但是二级域名是依赖在一级域名的存在而存在的,也就是顶级域名消失了,二级域名也不复存在,反之,二级域名网站不做了,主域名也不受影响.")])]),t._v(" "),a("h4",{attrs:{id:"什么是跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是跨域"}},[t._v("#")]),t._v(" 什么是跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("跨域: 是指浏览器不能执行其他网站的脚本.它是由"),a("strong",[t._v("浏览器的同源策略")]),t._v("造成的,是浏览器对 JavaScript 实施的安全限制.")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("跨域一词从字面意思来看,就是跨域名,但是实际上跨域的范围绝对不止那么狭隘.")]),t._v(" "),a("p",[t._v("具体概念如下: 只要"),a("code",[t._v("协议、域名、端口")]),t._v("有任何一个不同,都被当作是不同的域.")]),t._v(" "),a("p",[t._v("为什么产生跨域 : 要是随便引用外部文件,不同标签下的页面引用类似的彼的文件,浏览器很容易懵逼,安全也得不到保障.")]),t._v(" "),a("p",[t._v("解决: 但在安全限制的同时,也给注入 iframe 或者 ajax 应用上带来了不少麻烦,所以要通过一些方法使得本域的 js 能够操作其他域的页面对象或者其他域的 js 能操作本域的页面对象(iframe)之间.")])]),t._v(" "),a("h4",{attrs:{id:"为什么跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么跨域"}},[t._v("#")]),t._v(" 为什么跨域 ???")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("CSRF")])]),t._v(" "),a("h4",{attrs:{id:"跨域情况"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨域情况"}},[t._v("#")]),t._v(" 跨域情况")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"}},[t._v("URL")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("是否允许通信")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com/a.js "),a("br"),t._v("http://www.a.com/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("同一域名下")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("允许")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com/lab/a.js"),a("br"),t._v("http://www.a.com/script/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("同一域名不同文件夹")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("允许")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com:8000/a.js"),a("br"),t._v("http://www.a.com/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("统一域名,不同端口")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com/a.js"),a("br"),t._v("https://www.a.com/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("统一域名,不同协议")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com/a.js"),a("br"),t._v("http://70.32.92.74/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("域名和对应 ip")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com/a.js"),a("br"),t._v("http://script.a.com/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("主域相同,子域不同")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许(coolie 这种情况下也不允许访问)")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.a.com/a.js"),a("br"),t._v("http://a.com/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("同一域名,不同二级域名(coolie 这种情况下也不允许访问)")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"center"}},[t._v("http://www.cnblogs.com/a.js"),a("br"),t._v("http://www.a.com/b.js")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不同域名")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("不允许")])])])]),t._v(" "),a("p",[t._v("注意:")]),t._v(" "),a("ul",[a("li",[t._v('如果是协议和端口造成的跨域问题"前台"是无能为力的.')]),t._v(" "),a("li",[t._v('在跨域问题上,域仅仅是通过"URL 的首部"来识别而不会去尝试判断相同的'),a("code",[t._v("IP 地址")]),t._v("对应着两个域或两个域是否在同一个"),a("code",[t._v("IP 地址")]),t._v("上,(“URL的首部”指window.location.protocol +window.location.host，也可以理解为“Domains, protocols and ports must match”。)")])]),t._v(" "),a("h4",{attrs:{id:"通过document-domain跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过document-domain跨域"}},[t._v("#")]),t._v(" 通过"),a("code",[t._v("document.domain")]),t._v("跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("ul",[a("li",[t._v("浏览器的同源策略: "),a("strong",[t._v("域名,协议,端口相同,也就是在同一个域里面")]),t._v(".非同源受到的限制: "),a("strong",[t._v("cookie 不能读取、 dom 无法获得 、ajax 请求不能发送.")])]),t._v(" "),a("li",[t._v("由于 JavaScript 同源策略的限制,脚本只能读取和所属文档来源相同的窗口和文档的属性.")]),t._v(" "),a("li",[t._v("对于已经有成熟产品体系的公司来说,不同的页面可以放在不同的服务器上,这些服务器域名不同,但是拥有相同的上级域名,比如 id.qq.com、 www.qq.com 、user.qzone.qq.com，它们都有公共的上级域名qq.com,这些服务器上的页面之间的跨域访问可以通过 document.domain 来进行")]),t._v(" "),a("li",[t._v("修改document.domain的方法只适用于不同子域的框架间的交互,只要我们把两个页面都设置成相同的域名就可以了,但是注意的是,document.domain 的设置是有限制的,我们只能把 document.domain 设置成自身或更高一级的父域,且主域必须相同.")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  a 页面 :  http://a.local.com/a.html")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//设置成主域")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" win "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//可以获取到iframe里的window对象，但该window对象的属性和方法几乎是不可用的")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" doc "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里获取不到iframe里的document对象")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" win"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//这里同样获取不到window对象的name属性")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/b.html"')]),t._v(" onload "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"test()"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b页面 : http://b.local.com/b.html")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在iframe载入这个页面也设置document.domain，使之与主页面的document.domain相同")]),t._v("\n    document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("domain "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'local.com'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h4",{attrs:{id:"通过-location-hash-跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-location-hash-跨域"}},[t._v("#")]),t._v(" 通过 "),a("code",[t._v("location.hash")]),t._v(" 跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("ul",[a("li",[t._v("因为"),a("code",[t._v("父窗口")]),t._v("可以对 "),a("code",[t._v("iframe")]),t._v(" 进行 "),a("code",[t._v("URL")]),t._v(" 读写,"),a("code",[t._v("iframe")]),t._v(" 也可以读写父窗口的 "),a("code",[t._v("URL")]),t._v(".")]),t._v(" "),a("li",[a("code",[t._v("URL")]),t._v("有一部分被成为"),a("code",[t._v("hash")]),t._v(",就是"),a("code",[t._v("#号")]),t._v("及其后面的字符,它一般用于浏览器锚点定位,"),a("code",[t._v("Server")]),t._v("端并不关心这部分,应该说"),a("code",[t._v("HTTP 请求")]),t._v("过程中不会携带"),a("code",[t._v("hash")]),t._v(",所以这部分的修改不会产生"),a("code",[t._v("HTTP请求")]),t._v(",但是会产生浏览器历史纪录.")]),t._v(" "),a("li",[t._v("此方法的原理就是改变 "),a("code",[t._v("URL")]),t._v("的"),a("code",[t._v("hash")]),t._v("部分来进行双向通信.")]),t._v(" "),a("li",[t._v("每个 "),a("code",[t._v("window")]),t._v("通过改变其他"),a("code",[t._v("window")]),t._v("的"),a("code",[t._v("location")]),t._v("(页面地址)来发送信息,但由于两个页面不在同一个域下 IE/Chrome 不允许修改"),a("code",[t._v("parent.location.hash")]),t._v("的值,所以需要借助于父窗口域名下的一个代理"),a("code",[t._v("iframe")]),t._v(",并通过监听自己的 "),a("code",[t._v("URL")]),t._v("的变化来接收消息.")]),t._v(" "),a("li",[t._v("这个方式的通信会造成一些不必要的浏览器历史记录,而且有些浏览器不支持"),a("code",[t._v("onhashchange")]),t._v("事件,需要轮询来获知"),a("code",[t._v("URL")]),t._v("的改变")]),t._v(" "),a("li",[t._v("这样做也有缺点,诸如数据直接暴露在了"),a("code",[t._v("url")]),t._v("中,数据容量和类型都有限等.")])])]),t._v(" "),a("blockquote",[a("p",[t._v("a 页面(主页面)向嵌套 b页面,单项通信")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  a 页面 :  http://a.local.com/a.html   a页面传值到子页面 b")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/b.html#1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" parse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" new_url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new_url\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b页面 : http://b.local.com/b.html  b页面作为子页面,可以拿到 a 页面传过来的值,单项通信实现")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("blockquote",[a("p",[t._v("b 页面(被嵌套的 iframe 页面),向 a 页面(主页面)传值.")])]),t._v(" "),a("ul",[a("li",[t._v("新建一个"),a("code",[t._v("aa.html")]),t._v("页面,该页面和"),a("code",[t._v("a.html")]),t._v("页面同域,并把该页面,作为 "),a("code",[t._v("b.html")]),t._v("页面的 "),a("code",[t._v("iframe")]),t._v(" 嵌套其中.")]),t._v(" "),a("li",[a("code",[t._v("b.html")]),t._v("页面,修改它自身拥有的 "),a("code",[t._v("iframe")]),t._v(" 的 "),a("code",[t._v("url#1")]),t._v("的 "),a("code",[t._v("hash")]),t._v("值.")]),t._v(" "),a("li",[a("code",[t._v("aa.html")]),t._v("页面,可以拿到"),a("code",[t._v("b.html")]),t._v("页面修改的 iframe 的 "),a("code",[t._v("url")]),t._v(", "),a("code",[t._v("(a -> b -> aa)")]),t._v(",通过父元素的父元素的iframe,修改其"),a("code",[t._v("a.html")]),t._v("页面的 src 值,实现了b 页面到 a 页面的双向通信")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a 页面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/b.html#1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'a'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iframe.src'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b页面")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://a.local.com/aa.html#1"')]),t._v(" style"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"display: none;"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" parse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" new_url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'b'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new_url'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" new_url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new_url\n    s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("5000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// aa 页面")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setInterval")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" parse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" url"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" hash "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("parseInt")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("parent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" parse "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" new_url "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" hash\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" new_url\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"通过-html5的messagge方法跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-html5的messagge方法跨域"}},[t._v("#")]),t._v(" 通过 HTML5的"),a("code",[t._v("Messagge")]),t._v("方法跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v('高级浏览器Internet Explorer 8+, chrome，Firefox , Opera 和 Safari 都将支持这个功能。这个功能主要包括接受信息的"message"事件和发送消息的"postMessage"方法')])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a 页面 http://a.local.com/a.html ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/b.html#1"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ifr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" targetOrigin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/b.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n        ifr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world!'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" targetOrigin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[t._v("postMessage 的使用方法:")]),t._v(" "),a("ul",[a("li",[t._v("otherWindow.postMessage(message, targetOrigin);\n"),a("ul",[a("li",[t._v("otherWindow:指目标窗口，也就是给哪个window发消息，是 window.frames 属性的成员或者由 window.open 方法创建的窗口")]),t._v(" "),a("li",[t._v("message:   是要发送的消息，类型为 String、Object (IE8、9 不支持)")]),t._v(" "),a("li",[t._v("targetOrigin:   是限定消息接收范围，不限制请使用 '*")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b 页面 http://b.local.com/b.html ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b页面通过message事件监听并接受消息")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onmessage")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'event'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息  ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" origin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("origin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//消息来源地址  ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" source "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" event"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//源Window对象  ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("origin"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://a.local.com/a.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n            console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//hello world!  ")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addEventListener "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onmessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("typeof")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("attachEvent "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'undefined'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//for ie  ")]),t._v("\n        window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("attachEvent")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'onmessage'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" onmessage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("  \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h4",{attrs:{id:"通过jsonp跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过jsonp跨域"}},[t._v("#")]),t._v(" 通过"),a("code",[t._v("jsonp")]),t._v("跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("单项跨域(一般用来获取数据),因为通过script 标签引入的 js 是不受同源策略的限制的,所以我们可以通过 script 标签引入一个 js 或者是一个其他后缀形式(如 php/jsp等)的文件,此"),a("strong",[t._v("文件返回一个 js 函数的调用")]),t._v(".")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eg1:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://cdn.staticfile.org/jquery/1.10.2/jquery.min.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("ajax")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n    url"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://b.local.com/jsonp.php'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 跨域请求地址")]),t._v("\n    type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'post'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 请求类型，默认"GET"，还可以是"POST"')]),t._v("\n    data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 传输数据")]),t._v("\n    dataType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsonp'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    jsonpCallback"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求成功的回调函数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("success")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("  \n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'res'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求失败的回调函数")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cb")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'cb'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eg2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("cd")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("jsondata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsondata'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jsondata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/jsonp.php?callback=cd"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取数据的地址后面还有一个 callback 参数,按照管理是用过这个参数明哥,当然如果获取数据的 jsonp 地址页面不是你自己能控制的,就得按照提供数据的那一方的规定格式来操作了.")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 因为是被当做一个 js 来引入的,所以jsonp.php返回的必须是一个能执行的 js 文件,要和后端约定好,最后输出的是 callback('返回的值').")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// eg3:")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果页面使用 jquery,那么通过它封装的方法就很方便的进行 jsonp 操作了.")]),t._v("\n$"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getJSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://b.local.com/jsonp.php?callback=?'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("jsondata")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 处理获得的 json 数据")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'jsondata'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("jsondata"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// jquery会自动生成一个全局函数来替换callback=?中的问号，之后获取到数据后又会自动销毁，实际上就是起一个临时代理函数的作用。$.getJSON方法会自动判断是否跨域，不跨域的话，就调用普通的ajax方法；跨域的话，则会以异步加载js文件的形式来调用jsonp的回调函数。")]),t._v("\n\n")])])]),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("JSONP 的优缺点:")]),t._v(" "),a("ul",[a("li",[t._v("优点 :\n"),a("ul",[a("li",[t._v("它不像"),a("code",[t._v("XMLHttpRequest")]),t._v("对象实现的"),a("code",[t._v("Ajax")]),t._v("请求那样受到同源策略的限制;")]),t._v(" "),a("li",[t._v("它的兼容性更好,在更加古老的浏览器中都可以运行,不需要"),a("code",[t._v("XMLHttpRequest")]),t._v("或"),a("code",[t._v("ActiveX")]),t._v("的支持;")]),t._v(" "),a("li",[t._v("并且在请求完毕后可以通过调用 callback 的方式回传结果")])])]),t._v(" "),a("li",[t._v("缺点:\n"),a("ul",[a("li",[t._v("它只支持"),a("code",[t._v("GET")]),t._v("请求而不支持"),a("code",[t._v("POST")]),t._v("等其他类型的 HTTP请求;")]),t._v(" "),a("li",[t._v("它只支持跨域 HTTP 请求,不能解决同域的两个页面之间如何进行 JavaScript 调用的问题.")])])])])]),t._v(" "),a("h4",{attrs:{id:"通过cors跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过cors跨域"}},[t._v("#")]),t._v(" 通过"),a("code",[t._v("CORS")]),t._v("跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("ul",[a("li",[a("code",[t._v("CORS(Cross-Origin Resoutce Sharing) 跨域资源共享")]),t._v(",定义了必须在访问跨域资源时,浏览器与服务器应该如何沟通.")]),t._v(" "),a("li",[t._v("CORS"),a("code",[t._v("自定义HTTP头部")]),t._v("让浏览器与服务器进行沟通,从而决定请求或响应是应该成功还是失败.")]),t._v(" "),a("li",[t._v("目前,所有浏览器都支持该功能,IE 浏览器不能地域 IE10.")]),t._v(" "),a("li",[t._v("整个 CORE 通信过程,都是浏览器自动完成,不需要用户参与,对于开发者来说,CORS 通信与同源的 AJAX 通信没有差别,代码完全一样.")]),t._v(" "),a("li",[t._v("浏览器一旦发现 AJAX 请求跨源,就会自动添加一些附加的头信息,有时还会多出一次附加的请求,但是用户不会感觉到.")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("因此,实现 "),a("code",[t._v("CORS")]),t._v(" 通信的关键是服务器,只要服务器实现了"),a("code",[t._v("CORS")]),t._v("接口,就可以跨源通信."),a("br"),t._v("\n服务器端对于CORS的支持,主要就是通过设置"),a("code",[t._v("Access-Control-Allow-Origin")]),t._v("来进行的,如果浏览器检测到相应的设置,就可以允许 Ajax进行跨域的访问.")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 平时的 ajax 请求")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"POST"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/damonare"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相对路径")]),t._v("\n    xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//如果我们要使用CORS，相关Ajax代码可能如下所示")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" xhr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("XMLHttpRequest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"￼GET"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://segmentfault.com/u/trigkit4/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 绝对路径")]),t._v("\n    xhr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代码与之前的区别就在于相对路径换成了其他域的绝对路径，也就是你要跨域访问的接口地址。")]),t._v("\n")])])]),a("p",[t._v("CORS 和 JSONP 对比:")]),t._v(" "),a("ul",[a("li",[t._v("JSONP 只能实现 GET 请求,而 CORS 支持所有类型的 HTTP 请求.")]),t._v(" "),a("li",[t._v("使用 CORS,开发者可以使用普通的XMLHttpRequest发起请求和获得数据，比起JSONP有更好的错误处理。")]),t._v(" "),a("li",[t._v("JSONP主要被老的浏览器支持，它们往往不支持CORS，而绝大多数现代浏览器都已经支持了CORS）。")])]),t._v(" "),a("h4",{attrs:{id:"通过-window-name跨域"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#通过-window-name跨域"}},[t._v("#")]),t._v(" 通过 "),a("code",[t._v("window.name")]),t._v("跨域")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("ul",[a("li",[a("code",[t._v("window")]),t._v("对象有个"),a("code",[t._v("name")]),t._v("属性,该属性有个特征:即在一个窗口(window)的声明周期内,窗口载入的所有的页面都是共享一个"),a("code",[t._v("window.name")]),t._v("的,每个页面对"),a("code",[t._v("window.name")]),t._v("都有读写的权限,"),a("code",[t._v("window.name")]),t._v("是持久存在一个窗口载入过的所有页面中的,并不会因新页面的载入而进行重置.")]),t._v(" "),a("li",[t._v("由于安全原因,浏览器始终会保持"),a("code",[t._v("window.name")]),t._v("是"),a("code",[t._v("string")]),t._v("类型.")])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 同样这个方法也可以应用和 iframe 交互来: ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 比如 b.html 页面设置好要传递的字符串,用 window.name 进行传递,a.html 页面,在 iframe 加载成功之后,打开一个空白页面,避免出现跨域问题,获取传递的 window.name")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//  a 页面 :  http://a.local.com/a.html")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("iframe id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"iframe"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://b.local.com/b.html"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("iframe"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" iframe "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'iframe'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("contentWindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        iframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'about:blank'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 或者将里面的 about:blank 替换成某个同源页面（about:blank，javascript: 和 data: 中的内容，继承了载入他们的页面的源。）")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b页面 : http://b.local.com/b.html")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text/javascript"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" person "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wayne zhu'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        age"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("22")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        school"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xjtu'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("person"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"_2020-07-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2020-07-14"}},[t._v("#")]),t._v(" 2020-07-14")]),t._v(" "),a("h3",{attrs:{id:"url中的-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url中的-hash"}},[t._v("#")]),t._v(" url中的#(hash)")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("url中的 #(hash) 的含义 : "),a("code",[t._v("hash")]),t._v("属性是一个可读可写的字符串,该字符串是"),a("code",[t._v("URL")]),t._v("的锚部分(从#号开始的部分)")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("#")]),t._v("代表网页中的一个位置,其右面的字符,就是该位置的标识符:"),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 代表网页 index.html 的 print 位置,浏览器读取这个 URL 后,会自动将 print 位置滚动到可视区域.")]),t._v("\n\n   http"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html#print \n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 为网页位置指定标识符,有两种方法,一是使用锚点,比如")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("a name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"print"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n   "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 二是使用 id 属性,比如")]),t._v("\n   "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"print"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("HTTP 请求不包括'#' : '#'是用来指导浏览器动作的,对服务器完全无用,所以,HTTP 请求不包括'#'."),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("    http"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html#print\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览器实际发出的请求是这样的:")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTTP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v("\n    Host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com   \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 可以看到，只是请求index.html，根本没有"#print"的部分。    ')]),t._v("\n")])])])]),t._v(" "),a("li",[t._v("#后的字符: 在一个#后面出现的任何字符,都会被浏览器解析为位置标识符,也就意味着,这些字符都不会被发送到服务器端."),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("    http"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("#fff\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 浏览器实际发出的请求是这样的:")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("GET")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("index"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),a("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTTP")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.1")]),t._v("\n    Host"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" www"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com \n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// 可以看到,"#fff"被省略了。只有将#转码为%23，浏览器才会将其作为实义字符处理')]),t._v("\n    http"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("color"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23")]),t._v("fff\n")])])])]),t._v(" "),a("li",[t._v("改变 # 不触发网页重载 : 单单改变#后的部分,浏览器只会滚动到相应的位置,不会重新加载网页.")]),t._v(" "),a("li",[t._v('改变 # 会改变浏览器的访问历史 : 每一次改变 # 后的部分,都会在浏览器的访问历史中增加一个记录,使用"后退"按钮,就可以回到上一个位置.')]),t._v(" "),a("li",[a("code",[t._v("window.location.hash")]),t._v("读取 # 值 : 这个属性可读可写,读取时,可以用来判断网页状态是否改变,写入时,则会在不重载网页的前提下,创造一条访问历史记录.")]),t._v(" "),a("li",[a("code",[t._v("onhashchange")]),t._v("事件: 这是一个 HTML5新增的事件,当 # 值发生变化时,就会触发这个事件,IE8+、Firefox 3.6+、Chrome 5+、Safari 4.0+支持该事件。对于不支持 "),a("code",[t._v("onhashchange")]),t._v("的浏览器,可以用 "),a("code",[t._v("setInterval")]),t._v("监控"),a("code",[t._v("location.hash")]),t._v("的变化."),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 使用的三种方法")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onhashchange "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("body onhashchange"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"func();"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\nwindow"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hashchange"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" func"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"轮询"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#轮询"}},[t._v("#")]),t._v(" 轮询")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("轮询(Polling) : 是一种 CPU 决策如何提供周边设备服务的方式,又称"),a("code",[t._v("程控输出入(Programmend I/O)")]),t._v("."),a("br"),t._v("\n轮询法 : 由 CPU 定时发出询问,依序询问每一个周边设备是否需要其服务,有即给予服务,服务结束后再问下一个周边,接着不断周而复始.")])]),t._v(" "),a("h3",{attrs:{id:"websocket、长短连接"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#websocket、长短连接"}},[t._v("#")]),t._v(" websocket、长短连接")]),t._v(" "),a("p",[t._v("(https://www.cnblogs.com/miaozhihang/p/9518584.html)\nhttps://juejin.im/entry/589921640ce46300560ef894#comment")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("HTTP")]),t._v(" 协议 : 是一个应用层协议,无状态,端口号为80,主要版本有1.0/1.1/2.0\n"),a("ul",[a("li",[t._v("HTTP/1.* : 一次请求-响应,建立一个连接,用完关闭;")]),t._v(" "),a("li",[t._v("HTTP/1.1 : 串行化单线程处理,可以同时在同一个 tcp 链接上发送多个请求,但是只有响应是有顺序的,只有上一个请求完成后,下一个才能响应,一旦有任务处理超时等,后续任务只能被阻塞(线头阻塞).")]),t._v(" "),a("li",[t._v("HTTP/2 : 并行执行,某任务耗时严重,不会影响到任务正常执行.")])])]),t._v(" "),a("li",[a("code",[t._v("TCP")]),t._v("(Transmission Control Protocol) 传输控制协议 : 是一种面向连接(连接导向)的,可靠的,基于 IP 的传输层协议.")]),t._v(" "),a("li",[a("code",[t._v("websocket")]),t._v(": 是 html5 提出的一个协议规范,是为解决客户端和服务端实时通信.本质上是一个基于 tcp,先通过 HTTP/HTTPS 协议发起的一条特殊的 http 请求进行握手后创建一个用于减缓数据的 TCP 连接."),a("br"),t._v("\nWebSocket优势： 浏览器和服务器只需要要做一个握手的动作，在建立连接之后，双方可以在任意时刻，相互推送信息。同时，服务器与客户端之间交换的头信息很小。")]),t._v(" "),a("li",[t._v("短连接 : 连接 -> 传输数据 -> 关闭连接"),a("br"),t._v("\nHTTP 是无状态的,浏览器和服务器每进行一次 HTTP 操作,就建立一次连接,但任务结束就中断连接."),a("br"),t._v("\n也可以这样说,短连接是指"),a("code",[t._v("SOCKET")]),t._v("连接后发送后接收完数据后马上断开连接.")]),t._v(" "),a("li",[t._v("长连接 : 连接->传输数据->保持连接 -> 传输数据-> 。。。 ->关闭连接。"),a("br"),t._v("\n长连接指建立SOCKET连接后不管是否使用都保持连接，但安全性较差")])]),t._v(" "),a("h2",{attrs:{id:"_2020-07-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2020-07-16"}},[t._v("#")]),t._v(" 2020-07-16")]),t._v(" "),a("h3",{attrs:{id:"linux下vim的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux下vim的使用"}},[t._v("#")]),t._v(" "),a("strong",[a("a",{attrs:{href:"https://blog.csdn.net/yangshuainan/article/details/78219604,''",target:"_blank",rel:"noopener noreferrer"}},[t._v("linux下vim的使用"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"vi-和-vim"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vi-和-vim"}},[t._v("#")]),t._v(" "),a("strong",[t._v("vi 和 vim")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("ul",[a("li",[t._v("vi 编辑器是所有 Unix 及 Linux 系统下标准的编辑器,他相当于 windows 系统中的记事本一样.")]),t._v(" "),a("li",[t._v("vim 编辑器是有程序编辑的能力,可以以字体颜色辨别语法的正确性,方便程序设计.")]),t._v(" "),a("li",[t._v("vim 可以作为 vi 的升级版本,他可以用多种颜色的方式来显示一些特殊的信息.")])])]),t._v(" "),a("h4",{attrs:{id:"vi-的使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vi-的使用"}},[t._v("#")]),t._v(" "),a("strong",[t._v("vi 的使用")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",[t._v("基本上 vi 可以分为三种状态 : 一般模式、编辑模式、命令行模式")])]),t._v(" "),a("ul",[a("li",[a("p",[a("strong",[t._v("三种模式之间的切换:")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("一般模式进入到编辑模式:")]),t._v(" "),a("ul",[a("li",[a("p",[a("code",[t._v("[i]")]),t._v(" : 从目前光标所在处插入")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("[I]")]),t._v(" : 从目前所在行的第一个非空格符处开始插入")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("[a]")]),t._v(" : 从目前光标所在的下一个字符处开始插入")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("[A]")]),t._v(" : 从光标所在行的最后一个字符串开始插入")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("[o]")]),t._v(" : 在目前光标所在的下一行处插入新的一行")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("[O]")]),t._v(" : 在目前光标所在的上一行处插入新的一行")])])])]),t._v(" "),a("li",[a("p",[t._v("一般模式进入到取代模式:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("[r]")]),t._v(" : 只会取代光标所在的那一个字符一次")]),t._v(" "),a("li",[a("code",[t._v("[R]")]),t._v(" : 会一直取代光标所在的文字,知道按下 ESC 为止")])])]),t._v(" "),a("li",[a("p",[t._v("退出编辑模式,回到一般模式: "),a("code",[t._v("[ESC]")])])]),t._v(" "),a("li",[a("p",[t._v("一般模式进入到命令行模式 可用按钮说明:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("[:W]")]),t._v(" : 保存编辑的内容")]),t._v(" "),a("li",[a("code",[t._v("[:w!]")]),t._v(" : 强制写入该文件,但跟你对该文件的权限有关")]),t._v(" "),a("li",[a("code",[t._v("[:q]")]),t._v(" : 离开 vi")]),t._v(" "),a("li",[a("code",[t._v("[:q!]")]),t._v(" : 不想保存修改强制离开")]),t._v(" "),a("li",[a("code",[t._v("[:wq]")]),t._v(" : 保存后离开")]),t._v(" "),a("li",[a("code",[t._v("[:x]")]),t._v(" : 保存后离开")]),t._v(" "),a("li",[a("code",[t._v("[ZZ]")]),t._v(" : 若文件没有改动,则不保存离开,若文件已经被更改过,则保存后离开.")])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("一般模式")]),t._v(" : 以"),a("code",[t._v("vim 文件名")]),t._v("打开一个文件就直接进入一般模式(这是默认的模式)."),a("br"),t._v("\n在这个模式中,你可以使用"),a("strong",[t._v("上下左右按键来移动光标")]),t._v("、"),a("strong",[t._v("删除字符/删除整行来处理文件的内容")]),t._v("、"),a("strong",[t._v("复制/粘贴来处理你的文件数据")]),t._v(".")]),t._v(" "),a("p",[t._v("一般模式可用按钮说明:")]),t._v(" "),a("ul",[a("li",[t._v("移动光标 :\n"),a("ul",[a("li",[a("code",[t._v("[k, j, k, l]")]),t._v(": 分别控制光标 左、下、上、右 移一格")]),t._v(" "),a("li",[a("code",[t._v("[ctrl + b]")]),t._v(' : 屏幕往"后"移动一页')]),t._v(" "),a("li",[a("code",[t._v("[ctrl + f]")]),t._v(' : 屏幕往"前"移动一页')]),t._v(" "),a("li",[a("code",[t._v("[n<space>]")]),t._v(" : 光标向右移动 n 个字符")]),t._v(" "),a("li",[a("code",[t._v("[fn + >]")]),t._v(" : 移动到这一行的最后面字符处")]),t._v(" "),a("li",[a("code",[t._v("[fn + <]")]),t._v(" : 移动到这一行的最前面字符串")]),t._v(" "),a("li",[a("code",[t._v("[w]")]),t._v(" : 光标跳到下个字的开头")]),t._v(" "),a("li",[a("code",[t._v("[e]")]),t._v(" : 光标跳到下个字的字尾")]),t._v(" "),a("li",[a("code",[t._v("[H]")]),t._v(" : 光标移动到这个屏幕的最上方的那一行的第一个字符")]),t._v(" "),a("li",[a("code",[t._v("[M]")]),t._v(" : 光标移动到这个屏幕的中间的那一行的第一个字符")]),t._v(" "),a("li",[a("code",[t._v("[L]")]),t._v(" : 光标移动到这个屏幕的最下方的那一行的第一个字符")]),t._v(" "),a("li",[a("code",[t._v("[G]")]),t._v(" : 光标移动到这个文件的最后一行")]),t._v(" "),a("li",[a("code",[t._v("[nG]")]),t._v(": 光标移动到这个文件的第 n 行")]),t._v(" "),a("li",[a("code",[t._v("[gg]")]),t._v(": 光标移动到这个文件的第一行,相当于[1G]")]),t._v(" "),a("li",[a("code",[t._v("[n<Enter>]")]),t._v(" : 光标向下移动 n 行")])])]),t._v(" "),a("li",[t._v("查找\n"),a("ul",[a("li",[a("code",[t._v("[/world]")]),t._v(" : 光标向下寻找一个名称为 world 的字符串")]),t._v(" "),a("li",[a("code",[t._v("[?world]")]),t._v(" : 光标向上寻找一个名称为 world 的字符串")]),t._v(" "),a("li",[a("code",[t._v("[n]")]),t._v(" : 代表重复前一个查找的动作")]),t._v(" "),a("li",[a("code",[t._v("[N]")]),t._v(" : 与 n 刚好相反,为[反向]进行前一个查找动作")])])]),t._v(" "),a("li",[t._v("替换\n"),a("ul",[a("li",[a("code",[t._v("[:n1,n2s/word1/word2/g]")]),t._v(" : n1 与 n2 为数字,在第 n1 与 n2 之前查找 word1 这个字符串,并将该字符串替换为 word2.")]),t._v(" "),a("li",[a("code",[t._v("[:1,$s/word1/word2/g]")]),t._v(" : 从第一行到最后一行查找 word1 字符串,并将该字符串替换为 word2")]),t._v(" "),a("li",[a("code",[t._v("[:1,$s/word1/word2/gc]")]),t._v(" : 从第一行到最后一行查找 world1 字符串,并将该字符串替换为 word2,且在替换前提示用户确认是否进行替换.")])])]),t._v(" "),a("li",[t._v("删除\n"),a("ul",[a("li",[a("code",[t._v("[x]")]),t._v(" : 向后删除一个字符")]),t._v(" "),a("li",[a("code",[t._v("[X]")]),t._v(" : 向前删除一个字符")]),t._v(" "),a("li",[a("code",[t._v("[nx]")]),t._v(" : 连续向后删除 n 个字符")]),t._v(" "),a("li",[a("code",[t._v("[dd]")]),t._v(" : 删除光标所在行")]),t._v(" "),a("li",[a("code",[t._v("[ndd]")]),t._v(" : 删除光标所在的向下 n 行")]),t._v(" "),a("li",[a("code",[t._v("[d1G]")]),t._v(" : 删除光标所在行到第一行的所有数据")]),t._v(" "),a("li",[a("code",[t._v("[dG]")]),t._v(" : 删除光标所在行到最后一行的所有数据")]),t._v(" "),a("li",[a("code",[t._v("[d$]")]),t._v(" : 删除光标所在处,到该行的最后一个字符")]),t._v(" "),a("li",[a("code",[t._v("[d0]")]),t._v(" : 删除光标所在处,到该行的最前一个字符")])])]),t._v(" "),a("li",[t._v("复制\n"),a("ul",[a("li",[a("code",[t._v("[yy]")]),t._v(" : 复制光标所在的那一行")]),t._v(" "),a("li",[a("code",[t._v("[nyy]")]),t._v(" : 复制光标所在的向下 n 行")]),t._v(" "),a("li",[a("code",[t._v("[y1G]")]),t._v(" : 复制光标所在行到第一行的所有数据")]),t._v(" "),a("li",[a("code",[t._v("[yG]")]),t._v(" : 复制光标所在行到最后一行的所有数据")]),t._v(" "),a("li",[a("code",[t._v("[y0]")]),t._v(" : 复制光标所在的那个字符到该行行首的所有数据")]),t._v(" "),a("li",[a("code",[t._v("[y$]")]),t._v(" : 复制光标所在的那个字符到该行行尾的所有数据")])])]),t._v(" "),a("li",[t._v("粘贴\n"),a("ul",[a("li",[a("code",[t._v("[p]")]),t._v(" : 将已复制的数据在光标下一行粘贴上")]),t._v(" "),a("li",[a("code",[t._v("[P]")]),t._v(" : 将已复制的数据在光标上一行粘贴上")]),t._v(" "),a("li",[a("code",[t._v("[u]")]),t._v(" :恢复前一个操作")]),t._v(" "),a("li",[a("code",[t._v("[Ctrl + r]")]),t._v(" : 重做上一个操作")]),t._v(" "),a("li",[a("code",[t._v("[.]")]),t._v(" : 重复前一个操作")])])]),t._v(" "),a("li",[t._v("块选择(vim)\n"),a("ul",[a("li",[a("code",[t._v("[v]")]),t._v(" : 字符选择,会将光标经过的地方反白选择")]),t._v(" "),a("li",[a("code",[t._v("[V]")]),t._v(" : 行选择,会将光标经过的行反白选择")]),t._v(" "),a("li",[a("code",[t._v("[Ctrl + v]")]),t._v(" : 块选择,可以用长方形的方式选择资料(提制竖列)")]),t._v(" "),a("li",[a("code",[t._v("[y]")]),t._v(" : 将反白的地方复制")]),t._v(" "),a("li",[a("code",[t._v("[d]")]),t._v(" : 将反白的地方删除")])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("编辑模式")]),t._v(" : 在一般模式中可以进行"),a("strong",[t._v("删除、复制、粘贴")]),t._v("等的操作,但是却无法"),a("strong",[t._v("编辑文件的内容")]),t._v(",只有当你按下"),a("code",[t._v("【i, I, o, O, a, A, r, R】")]),t._v("等任何一个字母之后才进入编辑模式,这时候屏幕的左下方会出现"),a("code",[t._v("【INSERT】或【REPLACE】")]),t._v("的字样,此时才可以进行编辑,而如果要返回到一般模式时,则必须按下"),a("code",[t._v("【ESC】")]),t._v("即可退出编辑模式.")]),t._v(" "),a("ul",[a("li",[t._v("编辑模式可用按钮说明:\n"),a("ul",[a("li",[a("code",[t._v("[:w filename]")]),t._v(" : 将编辑的数据保存成另一个文件(类似另存)")]),t._v(" "),a("li",[a("code",[t._v("[:r filename]")]),t._v(" : 将编辑的数据中,读入另一个文件的数据.即将[filename]这个文件的内容加到光标所在行后面.")]),t._v(" "),a("li",[a("code",[t._v("[:n1,n2 w filename]")]),t._v(" : 将 n1 到 n2行的内容保存成 filename 这个文件")]),t._v(" "),a("li",[a("code",[t._v("[:!command]")]),t._v(" : 暂时离开 vi 到命令行模式下执行 command 的显示结果!")]),t._v(" "),a("li",[a("code",[t._v("[:set nu]")]),t._v(" : 显示行号")]),t._v(" "),a("li",[a("code",[t._v("[:set nonu]")]),t._v(" : 与 set nu 相反,取消行号")])])]),t._v(" "),a("li",[t._v("多文件编辑(vim): 使用 vim 的时候,可能会碰到你需要复制一个文件中的某段到另一个文件中,而vim 不能够在关闭的时候,把这段保留住,或者使用其他的方法复制.\n"),a("ul",[a("li",[a("code",[t._v("[vim file1 file2]")]),t._v(" : 多文件编辑")]),t._v(" "),a("li",[a("code",[t._v("[:n]")]),t._v(" : 编辑下一个文件")]),t._v(" "),a("li",[a("code",[t._v("[:N]")]),t._v(" : 编辑上一个文件")]),t._v(" "),a("li",[a("code",[t._v("[:files]")]),t._v(" : 列出目前这个 vim 编辑的所有文件")])])]),t._v(" "),a("li",[t._v("多窗口功能(vim): 有两个窗口对照着看的文件\n"),a("ul",[a("li",[a("code",[t._v("[:sp filename]")]),t._v(" : 开启一个新窗口,如果有加 filename,表示在新窗口开启一个新文件,否则表示两个窗口为同一个文件内容(同步显示)")]),t._v(" "),a("li",[a("code",[t._v("[ctrl + w + j]")]),t._v(" :按键的方法: 先按下[ctrl]不放,再按下 w 后,放开所有的按键,然后再按下 j,则光标可移动到下方的窗口.")]),t._v(" "),a("li",[a("code",[t._v("[ctrl + w + k]")]),t._v(" :按键的方法: 先按下[ctrl]不放,再按下 w 后,放开所有的按键,然后再按下 k,则光标可移动到上方的窗口.")])])])])]),t._v(" "),a("li",[a("p",[a("strong",[t._v("命令行模式")]),t._v(" : "),a("code",[t._v("【: / ?】")]),t._v("三个中的任何一个,就可以将光标移动到最底下那一行."),a("br"),t._v("\n在这个模式中,可以"),a("strong",[t._v("查找、读取、存盘、替换字符、离开vi、显示行号")]),t._v("等的动作都是在此模式中完成的.")])])]),t._v(" "),a("h4",{attrs:{id:"vim-环境设定与记录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vim-环境设定与记录"}},[t._v("#")]),t._v(" "),a("strong",[t._v("vim 环境设定与记录")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("记录 : ~/.viminfo")]),t._v(" "),a("p",[t._v("如果我们以 vim 软件来查找一个文件内部的某个字符串,这个字符串会被反白,而下次我们再次以vim 编辑这个文件时,该查找的字符串反白情况还是存在.另外,当我们重复编辑同一个文件时,当第二次进入该文件时,光标竟然就在上次离开的那一行的开头."),a("br"),t._v("\n这个功能可能是方便的,但也有不方便的时候,怎么会这样呢?"),a("br"),t._v("\n这是因为,我们的 vim 会主动的将你曾经做过的行为登录下来,那个记录动作的文件就是"),a("code",[t._v(".viminfo")]),t._v(",不想用这个功能,就直接删除"),a("code",[t._v(".viminfo")]),t._v(".只要你曾经使用过 vim,那么你的个人目录就会有这个文件,这个文件是自动产生的,你在 vim 里头所作的动作,就可以在这个文件内部找到.")])]),t._v(" "),a("li",[a("p",[t._v("环境设定 : ~/.vimrc")]),t._v(" "),a("p",[t._v("不同的发型版本对 vim 的预设环境都不太相同,要想知道目前的设定值,可以在一般模式时输入"),a("code",[t._v(":set all")]),t._v("来查阅.")]),t._v(" "),a("ul",[a("li",[t._v(':set all "显示目前所有的环境参数设定值')]),t._v(" "),a("li",[t._v(':set hlsearch "高亮度反白(高亮度搜寻)')]),t._v(" "),a("li",[t._v(':set nohlsearch "取消高亮度反白(高亮度搜寻)')]),t._v(" "),a("li",[t._v(':set backspace=2 "在编辑的时候可随时用退格键删除 （０、１的时候，只针对刚输入的字符有效）')]),t._v(" "),a("li",[t._v(':set autoindent "自动缩排')]),t._v(" "),a("li",[t._v(':set noautoindent "取消自动缩排')]),t._v(" "),a("li",[t._v(':set ruler "可显示最后一行的状态')]),t._v(" "),a("li",[t._v(':set showmode "左下角那一行的状态')]),t._v(" "),a("li",[t._v(':set nu "显示行号')]),t._v(" "),a("li",[t._v(':set nonu "取消行号')]),t._v(" "),a("li",[t._v(':set bg=dark "显示不同的底色色调')]),t._v(" "),a("li",[t._v(':syntax on "进行语法检验，颜色显示')]),t._v(" "),a("li",[t._v(':syntax off "关闭语法检验')])]),t._v(" "),a("p",[t._v("写一下自己的 vim 操作环境 :整体的 vim 设定值一般是置在"),a("code",[t._v("/etc/vimrc")]),t._v("这个文件里面,不建议大家来修改他,我们在自己的个人目录里面建立一个"),a("code",[t._v(".vimrc")]),t._v("文件,在这里面写入自己的内容就能实现了.\n"),a("code",[t._v("cd ~")]),t._v(" --\x3e "),a("code",[t._v("vim ~/.vimrc")]),t._v(" 写入下面内容:")]),t._v(" "),a("ul",[a("li",[t._v('set hlsearch "高亮度反白')]),t._v(" "),a("li",[t._v('set backspace=2 "可随时用退格键删除')]),t._v(" "),a("li",[t._v('set autoindent "自动缩排')]),t._v(" "),a("li",[t._v('set ruler "可显示最后一行的状态')]),t._v(" "),a("li",[t._v('set showmode "左下角那一行的状态')]),t._v(" "),a("li",[t._v('set nu "可以在每一行的最前面显示行号')]),t._v(" "),a("li",[t._v('set bg=dark "显示不同的底色色调')]),t._v(" "),a("li",[t._v('syntax on "进行语法检验，颜色显示')])]),t._v(" "),a("p",[t._v('这个文件的双引号 (")表示的是注释,在下次使用 vim 的时候,就会有自己的 vim 操作环境了,提醒一点,这个文件中前面加不加[:]效果都是一样的.')])])]),t._v(" "),a("h3",{attrs:{id:"linux-命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux-命令"}},[t._v("#")]),t._v(" linux 命令")]),t._v(" "),a("p",[t._v("pwd\n显示当前路径")]),t._v(" "),a("p",[t._v("cd   change directoty\n进入目录")]),t._v(" "),a("p",[t._v("ll\n显示当前目录下的内容")]),t._v(" "),a("p",[t._v("cd ~\n~这个目录表示当前账号的个人目录.")])])}),[],!1,null,null,null);s.default=e.exports}}]);